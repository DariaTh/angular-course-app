<mat-spinner *ngIf="isLoading"></mat-spinner>

<!--<mat-accordion multi="true" *ngIf="posts.length > 0 && !isLoading" > 
  <mat-expansion-panel *ngFor="let post of posts">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{post.title}}
      </mat-panel-title>
    </mat-expansion-panel-header>
    <p>{{post.content}}</p>
     <mat-action-row>
    <a mat-button color="primary" [routerLink]="['/edit', post.id]">Edit</a>
    <button mat-button color="warn" (click)="onDelete(post.id)">Delete</button>
  </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>-->


 <div class="row" *ngIf="posts.length > 0 && !isLoading">
    <div class="col s12 m6"  *ngFor="let post of posts">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">{{post.title}}</span>
          <div class="post-image">
            <img [src]="post.imagePath" [alt]="post.title">
          </div>
          <p>{{post.content}}</p>
        </div>
        <div class="card-action">
          <a class="edit-link" [routerLink]="['/edit', post.id]">Edit</a>
          <a class="delete-link" (click)="onDelete(post.id)">Delete</a>
        </div>
      </div>
    </div>   
  </div>

<mat-paginator [length]="totalPosts" [pageSize]="postsPerPage" [pageSizeOptions]="pageSizeOptions" (page)="onChangedPage($event)"
  *ngIf="posts.length > 0"></mat-paginator>
  <p class="info-text" *ngIf="posts.length <= 0 && !isLoading">No posts</p>